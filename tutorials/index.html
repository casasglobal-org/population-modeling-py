
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../symbolic_systems/">
      
      
        <link rel="next" href="../components/differential_equations/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.30">
    
    
      
        <title>Tutorials - Psymple Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.3cba04c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tutorials" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Psymple Docs" class="md-header__button md-logo" aria-label="Psymple Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Psymple Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tutorials
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Psymple Docs" class="md-nav__button md-logo" aria-label="Psymple Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Psymple Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Overview
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../systems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modelling Systems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../symbolic_systems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Symbolic systems
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#psymple.ported_objects.PortedObject" class="md-nav__link">
    <span class="md-ellipsis">
      PortedObject
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PortedObject">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#psymple.ported_objects.PortedObject.add_input_ports" class="md-nav__link">
    <span class="md-ellipsis">
      add_input_ports
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#psymple.ported_objects.PortedObject.add_output_ports" class="md-nav__link">
    <span class="md-ellipsis">
      add_output_ports
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#psymple.ported_objects.PortedObject.add_variable_ports" class="md-nav__link">
    <span class="md-ellipsis">
      add_variable_ports
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#psymple.ported_objects.FunctionalPortedObject" class="md-nav__link">
    <span class="md-ellipsis">
      FunctionalPortedObject
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FunctionalPortedObject">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#psymple.ported_objects.FunctionalPortedObject.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#psymple.ported_objects.FunctionalPortedObject.add_assignments" class="md-nav__link">
    <span class="md-ellipsis">
      add_assignments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Modelling Components
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Modelling Components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/differential_equations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Differential Equations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../assignments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Assignments
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#psymple.ported_objects.PortedObject" class="md-nav__link">
    <span class="md-ellipsis">
      PortedObject
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PortedObject">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#psymple.ported_objects.PortedObject.add_input_ports" class="md-nav__link">
    <span class="md-ellipsis">
      add_input_ports
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#psymple.ported_objects.PortedObject.add_output_ports" class="md-nav__link">
    <span class="md-ellipsis">
      add_output_ports
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#psymple.ported_objects.PortedObject.add_variable_ports" class="md-nav__link">
    <span class="md-ellipsis">
      add_variable_ports
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#psymple.ported_objects.FunctionalPortedObject" class="md-nav__link">
    <span class="md-ellipsis">
      FunctionalPortedObject
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FunctionalPortedObject">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#psymple.ported_objects.FunctionalPortedObject.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#psymple.ported_objects.FunctionalPortedObject.add_assignments" class="md-nav__link">
    <span class="md-ellipsis">
      add_assignments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="tutorials">Tutorials</h1>
<p>On this page you will find tutorials on how to set up psymple systems. </p>


<div class="doc doc-object doc-class">



<h2 id="psymple.ported_objects.PortedObject" class="doc doc-heading">
            <code>psymple.ported_objects.PortedObject</code>


</h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


              <details class="quote">
                <summary>Source code in <code>psymple/ported_objects.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PortedObject</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">input_ports</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[],</span>
        <span class="n">output_ports</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[],</span>
        <span class="n">variable_ports</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[],</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="c1"># Ports exposed to the outside, indexed by their name (str)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">variable_ports</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_ports</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_ports</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">internals</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_input_ports</span><span class="p">(</span><span class="o">*</span><span class="n">input_ports</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_output_ports</span><span class="p">(</span><span class="o">*</span><span class="n">output_ports</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_variable_ports</span><span class="p">(</span><span class="o">*</span><span class="n">variable_ports</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">check_existing_port_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="n">Port</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">port</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">variable_ports</span>
            <span class="ow">or</span> <span class="n">port</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_ports</span>
            <span class="ow">or</span> <span class="n">port</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">variable_ports</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Port with name &#39;</span><span class="si">{</span><span class="n">port</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; doubly defined in PortedObject &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_port_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port_info</span><span class="p">:</span> <span class="n">Port</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">tuple</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">port_type</span><span class="p">:</span> <span class="n">Port</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">port_info</span><span class="p">,</span> <span class="n">port_type</span><span class="p">):</span>
            <span class="n">port</span> <span class="o">=</span> <span class="n">port_info</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">port_info</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;name&quot;</span> <span class="ow">in</span> <span class="n">port_info</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">port</span> <span class="o">=</span> <span class="n">port_type</span><span class="p">(</span><span class="o">**</span><span class="n">port_info</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># TODO: Could check more things about dictionary structure.</span>
                <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s1">&#39;The dictionary </span><span class="si">{</span><span class="n">port_info</span><span class="si">}</span><span class="s1"> must have a &quot;name&quot; entry.&#39;</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">port_info</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">port_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">port_type</span><span class="p">,</span> <span class="n">InputPort</span><span class="p">):</span>
                <span class="n">port</span> <span class="o">=</span> <span class="n">port_type</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">default_value</span><span class="o">=</span><span class="n">port_info</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">port_info</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">description</span><span class="o">=</span><span class="n">port_info</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">port_info</span><span class="p">)</span> <span class="o">&gt;=</span><span class="mi">3</span> <span class="k">else</span> <span class="kc">None</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">port</span> <span class="o">=</span> <span class="n">port_type</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">description</span><span class="o">=</span><span class="n">port_info</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">port_info</span><span class="p">)</span> <span class="o">&gt;=</span><span class="mi">2</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">port_info</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">port</span> <span class="o">=</span> <span class="n">port_type</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">port_info</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The entry </span><span class="si">{</span><span class="n">port_info</span><span class="si">}</span><span class="s2"> does not have type </span><span class="si">{</span><span class="n">port_type</span><span class="si">}</span><span class="s2">, dictionary or string&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_existing_port_names</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">port</span>

    <span class="k">def</span> <span class="nf">add_input_ports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">ports</span><span class="p">:</span> <span class="n">InputPort</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create input ports for the PortedObject.</span>

<span class="sd">        Args:</span>
<span class="sd">            *ports: Information specifying input ports, in the form of: </span>
<span class="sd">                - an InputPort object;</span>
<span class="sd">                - a dictionary specifying &quot;name&quot;, and optionally &quot;description&quot; and &quot;default_value&quot;;</span>
<span class="sd">                - a string, specifying the name of the port. </span>

<span class="sd">        Examples:</span>
<span class="sd">            add_input_ports(dict(name = &quot;A&quot;, default_value=6), dict(name=&quot;B&quot;, description=&quot;input port B&quot;), dict(name=&quot;C&quot;))</span>
<span class="sd">            add_input_ports(&quot;A&quot;, &quot;B&quot;)</span>
<span class="sd">            add_input_ports(InputPort(&quot;A&quot;, default_value=6))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">port_info</span> <span class="ow">in</span> <span class="n">ports</span><span class="p">:</span>
            <span class="n">port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_port_entry</span><span class="p">(</span><span class="n">port_info</span><span class="p">,</span> <span class="n">InputPort</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">input_ports</span><span class="p">[</span><span class="n">port</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">port</span>

    <span class="k">def</span> <span class="nf">add_output_ports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">ports</span><span class="p">:</span> <span class="n">OutputPort</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create input ports from a sequence of arguments which can be either:</span>
<span class="sd">        - an OutputPort object;</span>
<span class="sd">        - a dictionary, specifying &quot;name&quot;, and optionally &quot;description&quot;;</span>
<span class="sd">        - a string, representing the name of the port.</span>
<span class="sd">        The list can contain any mixture of the above elements.</span>

<span class="sd">        Examples:</span>
<span class="sd">            add_output_ports(dict(name=&quot;A&quot;), dict(name=&quot;B&quot;, description=&quot;output port B&quot;))</span>
<span class="sd">            add_output_ports(&quot;A&quot;, &quot;B&quot;)</span>
<span class="sd">            add_output_ports(OutputPort(&quot;A&quot;, description=&quot;output port A&quot;))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">port_info</span> <span class="ow">in</span> <span class="n">ports</span><span class="p">:</span>
            <span class="n">port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_port_entry</span><span class="p">(</span><span class="n">port_info</span><span class="p">,</span> <span class="n">OutputPort</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output_ports</span><span class="p">[</span><span class="n">port</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">port</span>

    <span class="k">def</span> <span class="nf">add_variable_ports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">ports</span><span class="p">:</span> <span class="n">VariablePort</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create variable ports from a sequence of arguments which can be either:</span>
<span class="sd">        - a VariablePort object;</span>
<span class="sd">        - a dictionary, specifying &quot;name&quot;, and optionally &quot;description&quot;;</span>
<span class="sd">        - a string, representing the name of the port.</span>
<span class="sd">        The list can contain any mixture of the above elements.</span>

<span class="sd">        Examples:</span>
<span class="sd">            add_variable_ports(dict(name = &quot;A&quot;), dict(name=&quot;B&quot;, description=&quot;variable port B&quot;))</span>
<span class="sd">            add_variable_ports(&quot;A&quot;, &quot;B&quot;)</span>
<span class="sd">            add_variable_ports(VariablePort(&quot;A&quot;, description=&quot;variable port A&quot;))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">port_info</span> <span class="ow">in</span> <span class="n">ports</span><span class="p">:</span>
            <span class="n">port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_port_entry</span><span class="p">(</span><span class="n">port_info</span><span class="p">,</span> <span class="n">VariablePort</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">variable_ports</span><span class="p">[</span><span class="n">port</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">port</span>

    <span class="k">def</span> <span class="nf">parse_assignment_entry</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">assignment_info</span><span class="p">:</span> <span class="n">Assignment</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">,</span> <span class="n">assignment_type</span><span class="p">:</span> <span class="n">Assignment</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">assignment_info</span><span class="p">,</span> <span class="n">assignment_type</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">assignment_info</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">assignment_info</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">keys</span> <span class="o">=</span> <span class="n">assignment_info</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="k">if</span> <span class="s2">&quot;expression&quot;</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">assignment_type</span><span class="p">,</span> <span class="n">DifferentialAssignment</span><span class="p">):</span>
                    <span class="k">if</span> <span class="s2">&quot;variable&quot;</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
                        <span class="k">return</span> <span class="n">assignment_type</span><span class="p">(</span>
                            <span class="n">assignment_info</span><span class="p">[</span><span class="s2">&quot;variable&quot;</span><span class="p">],</span> <span class="n">assignment_info</span><span class="p">[</span><span class="s2">&quot;expression&quot;</span><span class="p">]</span>
                        <span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s1">&#39;The dictionary </span><span class="si">{</span><span class="n">assignment_info</span><span class="si">}</span><span class="s1"> must contain a key &quot;variable&quot; to define a differential assignment&#39;</span>
                        <span class="p">)</span>
                <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">assignment_type</span><span class="p">,</span> <span class="n">ParameterAssignment</span><span class="p">):</span>
                    <span class="k">if</span> <span class="s2">&quot;parameter&quot;</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
                        <span class="k">return</span> <span class="n">assignment_type</span><span class="p">(</span>
                            <span class="n">assignment_info</span><span class="p">[</span><span class="s2">&quot;parameter&quot;</span><span class="p">],</span> <span class="n">assignment_info</span><span class="p">[</span><span class="s2">&quot;expression&quot;</span><span class="p">]</span>
                        <span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s1">&#39;The dictionary </span><span class="si">{</span><span class="n">assignment_info</span><span class="si">}</span><span class="s1"> must contain a key &quot;parameter&quot; to define a parameter assignment&#39;</span>
                        <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s1">&#39;The dictionary </span><span class="si">{</span><span class="n">assignment_info</span><span class="si">}</span><span class="s1"> must contain a key &quot;expression&quot; to define an assignment&#39;</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">assignment_info</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">assignment_type</span><span class="p">(</span><span class="n">assignment_info</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">assignment_info</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The entry </span><span class="si">{</span><span class="n">assignment_info</span><span class="si">}</span><span class="s2"> does not have type </span><span class="si">{</span><span class="n">assignment_type</span><span class="si">}</span><span class="s2">, dictionary or tuple.&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_input_port</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="n">InputPort</span><span class="p">):</span>
        <span class="c1"># DEPRECATE?</span>
        <span class="c1"># assert isinstance(port, InputPort)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_existing_port_names</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_ports</span><span class="p">[</span><span class="n">port</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">port</span>

    <span class="k">def</span> <span class="nf">add_output_port</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="n">OutputPort</span><span class="p">):</span>
        <span class="c1"># DEPRECATE?</span>
        <span class="c1"># assert isinstance(port, OutputPort)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_existing_port_names</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_ports</span><span class="p">[</span><span class="n">port</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">port</span>

    <span class="k">def</span> <span class="nf">add_variable_port</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="n">VariablePort</span><span class="p">):</span>
        <span class="c1"># DEPRECATE?</span>
        <span class="c1"># assert isinstance(port, VariablePort)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_existing_port_names</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">variable_ports</span><span class="p">[</span><span class="n">port</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">port</span>

    <span class="k">def</span> <span class="nf">get_port_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">port</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">variable_ports</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">variable_ports</span><span class="p">[</span><span class="n">port</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">port</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_ports</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_ports</span><span class="p">[</span><span class="n">port</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">port</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_ports</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_ports</span><span class="p">[</span><span class="n">port</span><span class="p">]</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">compile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix_names</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="psymple.ported_objects.PortedObject.add_input_ports" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_input_ports</span><span class="p">(</span><span class="o">*</span><span class="n">ports</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Create input ports for the PortedObject.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>*ports</code></td>
            <td>
                  <code><span title="psymple.ported_objects.InputPort">InputPort</span> | dict | str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Information specifying input ports, in the form of: 
- an InputPort object;
- a dictionary specifying "name", and optionally "description" and "default_value";
- a string, specifying the name of the port. </p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <p>add_input_ports(dict(name = "A", default_value=6), dict(name="B", description="input port B"), dict(name="C"))
add_input_ports("A", "B")
add_input_ports(InputPort("A", default_value=6))</p>

            <details class="quote">
              <summary>Source code in <code>psymple/ported_objects.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_input_ports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">ports</span><span class="p">:</span> <span class="n">InputPort</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create input ports for the PortedObject.</span>

<span class="sd">    Args:</span>
<span class="sd">        *ports: Information specifying input ports, in the form of: </span>
<span class="sd">            - an InputPort object;</span>
<span class="sd">            - a dictionary specifying &quot;name&quot;, and optionally &quot;description&quot; and &quot;default_value&quot;;</span>
<span class="sd">            - a string, specifying the name of the port. </span>

<span class="sd">    Examples:</span>
<span class="sd">        add_input_ports(dict(name = &quot;A&quot;, default_value=6), dict(name=&quot;B&quot;, description=&quot;input port B&quot;), dict(name=&quot;C&quot;))</span>
<span class="sd">        add_input_ports(&quot;A&quot;, &quot;B&quot;)</span>
<span class="sd">        add_input_ports(InputPort(&quot;A&quot;, default_value=6))</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">port_info</span> <span class="ow">in</span> <span class="n">ports</span><span class="p">:</span>
        <span class="n">port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_port_entry</span><span class="p">(</span><span class="n">port_info</span><span class="p">,</span> <span class="n">InputPort</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_ports</span><span class="p">[</span><span class="n">port</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">port</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="psymple.ported_objects.PortedObject.add_output_ports" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_output_ports</span><span class="p">(</span><span class="o">*</span><span class="n">ports</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Create input ports from a sequence of arguments which can be either:
- an OutputPort object;
- a dictionary, specifying "name", and optionally "description";
- a string, representing the name of the port.
The list can contain any mixture of the above elements.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>add_output_ports(dict(name="A"), dict(name="B", description="output port B"))
add_output_ports("A", "B")
add_output_ports(OutputPort("A", description="output port A"))</p>

            <details class="quote">
              <summary>Source code in <code>psymple/ported_objects.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_output_ports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">ports</span><span class="p">:</span> <span class="n">OutputPort</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create input ports from a sequence of arguments which can be either:</span>
<span class="sd">    - an OutputPort object;</span>
<span class="sd">    - a dictionary, specifying &quot;name&quot;, and optionally &quot;description&quot;;</span>
<span class="sd">    - a string, representing the name of the port.</span>
<span class="sd">    The list can contain any mixture of the above elements.</span>

<span class="sd">    Examples:</span>
<span class="sd">        add_output_ports(dict(name=&quot;A&quot;), dict(name=&quot;B&quot;, description=&quot;output port B&quot;))</span>
<span class="sd">        add_output_ports(&quot;A&quot;, &quot;B&quot;)</span>
<span class="sd">        add_output_ports(OutputPort(&quot;A&quot;, description=&quot;output port A&quot;))</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">port_info</span> <span class="ow">in</span> <span class="n">ports</span><span class="p">:</span>
        <span class="n">port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_port_entry</span><span class="p">(</span><span class="n">port_info</span><span class="p">,</span> <span class="n">OutputPort</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_ports</span><span class="p">[</span><span class="n">port</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">port</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="psymple.ported_objects.PortedObject.add_variable_ports" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_variable_ports</span><span class="p">(</span><span class="o">*</span><span class="n">ports</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Create variable ports from a sequence of arguments which can be either:
- a VariablePort object;
- a dictionary, specifying "name", and optionally "description";
- a string, representing the name of the port.
The list can contain any mixture of the above elements.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>add_variable_ports(dict(name = "A"), dict(name="B", description="variable port B"))
add_variable_ports("A", "B")
add_variable_ports(VariablePort("A", description="variable port A"))</p>

            <details class="quote">
              <summary>Source code in <code>psymple/ported_objects.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_variable_ports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">ports</span><span class="p">:</span> <span class="n">VariablePort</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create variable ports from a sequence of arguments which can be either:</span>
<span class="sd">    - a VariablePort object;</span>
<span class="sd">    - a dictionary, specifying &quot;name&quot;, and optionally &quot;description&quot;;</span>
<span class="sd">    - a string, representing the name of the port.</span>
<span class="sd">    The list can contain any mixture of the above elements.</span>

<span class="sd">    Examples:</span>
<span class="sd">        add_variable_ports(dict(name = &quot;A&quot;), dict(name=&quot;B&quot;, description=&quot;variable port B&quot;))</span>
<span class="sd">        add_variable_ports(&quot;A&quot;, &quot;B&quot;)</span>
<span class="sd">        add_variable_ports(VariablePort(&quot;A&quot;, description=&quot;variable port A&quot;))</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">port_info</span> <span class="ow">in</span> <span class="n">ports</span><span class="p">:</span>
        <span class="n">port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_port_entry</span><span class="p">(</span><span class="n">port_info</span><span class="p">,</span> <span class="n">VariablePort</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">variable_ports</span><span class="p">[</span><span class="n">port</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">port</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="psymple.ported_objects.FunctionalPortedObject" class="doc doc-heading">
            <code>psymple.ported_objects.FunctionalPortedObject</code>


</h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="psymple.ported_objects.PortedObject" href="#psymple.ported_objects.PortedObject">PortedObject</a></code></p>


      <p>A PortedObject modeling a function.</p>
<p>The function is defined by a set of assignments.</p>
<p>The function arguments are the free parameters on the RHS of the assignments,
and should be exposed as input ports. The function values are the LHS of the
assignments, and should be exposed as output ports.</p>
<p>Note that function assignments whose expression references a parameter defined as
the function value of another expression are not allowed.</p>

              <details class="quote">
                <summary>Source code in <code>psymple/ported_objects.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">FunctionalPortedObject</span><span class="p">(</span><span class="n">PortedObject</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A PortedObject modeling a function.</span>

<span class="sd">    The function is defined by a set of assignments.</span>

<span class="sd">    The function arguments are the free parameters on the RHS of the assignments,</span>
<span class="sd">    and should be exposed as input ports. The function values are the LHS of the</span>
<span class="sd">    assignments, and should be exposed as output ports.</span>

<span class="sd">    Note that function assignments whose expression references a parameter defined as</span>
<span class="sd">    the function value of another expression are not allowed.</span>

<span class="sd">    Methods:</span>
<span class="sd">        add_assignments</span>
<span class="sd">        compile</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#TODO: In the future, this should be a composite ported object that</span>
    <span class="c1">#decomposes its assignments into a sequence of OperatorPortedObjects.</span>

    <span class="c1">#TODO: Any nuances to this?</span>

    <span class="c1">#TODO: Implement this.</span>

    <span class="c1">#TODO: Should behaviour of FPO instead assert no undefined symbols at compile, so that the</span>
    <span class="c1">#order of adding ports and assignments doesn&#39;t matter?</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">input_ports</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[],</span>
        <span class="n">assignments</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ParameterAssignment</span><span class="o">|</span><span class="nb">tuple</span><span class="o">|</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
        <span class="n">create_input_ports</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Construct a FunctionalPortedObject from a list of assignments specifying functions. </span>

<span class="sd">        Args:</span>
<span class="sd">            name: a unique identifier for each VariablePortedObject inside a common</span>
<span class="sd">                CompositePortedObject.</span>
<span class="sd">            input_ports: input ports to expose. Elements should be of type InputPort, </span>
<span class="sd">                dict or str.</span>
<span class="sd">            assignments: functional assignments. Elements should be of type</span>
<span class="sd">                ParameterAssignment, dict or tuple.</span>
<span class="sd">            create_input_ports: automatically expose all function arguments which aren&#39;t specified</span>
<span class="sd">                in the list input_ports as input ports.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1">#TODO: Functional ported objects should take lists of assignments to a list of output port</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">input_ports</span><span class="o">=</span><span class="n">input_ports</span><span class="p">)</span>
        <span class="c1"># A dict of assignments indexed by the variable name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assignments</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_assignments</span><span class="p">(</span><span class="o">*</span><span class="n">assignments</span><span class="p">,</span> <span class="n">create_input_ports</span><span class="o">=</span><span class="n">create_input_ports</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_assignments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">assignments</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ParameterAssignment</span><span class="o">|</span><span class="nb">dict</span><span class="o">|</span><span class="nb">tuple</span><span class="p">],</span> <span class="n">create_input_ports</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add a list of assignments to a FunctionalPortedObject.</span>

<span class="sd">        Args:</span>
<span class="sd">            assignments: list of functional assignments. Elements should be of type</span>
<span class="sd">                ParameterAssignment, dict or tuple.</span>
<span class="sd">            create_input_ports: automatically expose all function arguments which</span>
<span class="sd">                aren&#39;t specified in the list input_ports as input ports.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">assignment_info</span> <span class="ow">in</span> <span class="n">assignments</span><span class="p">:</span>
            <span class="n">assignment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_assignment_entry</span><span class="p">(</span><span class="n">assignment_info</span><span class="p">,</span> <span class="n">FunctionalAssignment</span><span class="p">)</span>
            <span class="n">parameter_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">assignment</span><span class="o">.</span><span class="n">parameter</span><span class="o">.</span><span class="n">symbol</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">parameter_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">assignments</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Variable &#39;</span><span class="si">{</span><span class="n">parameter_name</span><span class="si">}</span><span class="s2">&#39; in FunctionalPortedObject &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; doubly defined.&quot;</span>
                <span class="p">)</span>
            <span class="n">free_symbols</span> <span class="o">=</span> <span class="n">assignment</span><span class="o">.</span><span class="n">get_free_symbols</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="n">free_symbols</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">symbol</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_ports</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">create_input_ports</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">input_ports</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">InputPort</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Expression contains symbol </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> but there is no &quot;</span>
                            <span class="s2">&quot;corresponding input port.&quot;</span>
                        <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assignments</span><span class="p">[</span><span class="n">parameter_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">assignment</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output_ports</span><span class="p">[</span><span class="n">parameter_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">OutputPort</span><span class="p">(</span><span class="n">parameter_name</span><span class="p">)</span>           

    <span class="k">def</span> <span class="nf">add_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">assignment_info</span><span class="p">:</span> <span class="n">ParameterAssignment</span><span class="o">|</span><span class="nb">dict</span><span class="o">|</span><span class="nb">tuple</span><span class="p">,</span> <span class="n">create_input_ports</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="c1"># DEPRECATE?</span>
        <span class="n">assignment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_assignment_entry</span><span class="p">(</span><span class="n">assignment_info</span><span class="p">,</span> <span class="n">FunctionalAssignment</span><span class="p">)</span>
        <span class="n">parameter_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">assignment</span><span class="o">.</span><span class="n">parameter</span><span class="o">.</span><span class="n">symbol</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">parameter_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">assignments</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Variable &#39;</span><span class="si">{</span><span class="n">parameter_name</span><span class="si">}</span><span class="s2">&#39; in VariablePortedObject &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; doubly defined.&quot;</span>
            <span class="p">)</span>
        <span class="n">free_symbols</span> <span class="o">=</span> <span class="n">assignment</span><span class="o">.</span><span class="n">get_free_symbols</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="n">free_symbols</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">symbol</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_ports</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">create_input_ports</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">input_ports</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">InputPort</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Expression contains symbol </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> but there is no &quot;</span>
                        <span class="s2">&quot;corresponding input port.&quot;</span>
                    <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assignments</span><span class="p">[</span><span class="n">parameter_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">assignment</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_ports</span><span class="p">[</span><span class="n">parameter_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">OutputPort</span><span class="p">(</span><span class="n">parameter_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">compile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix_names</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">global_symbols</span><span class="o">=</span><span class="nb">set</span><span class="p">()):</span>
        <span class="n">compiled</span> <span class="o">=</span> <span class="n">CompiledPortedObject</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">input_port</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_ports</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">compiled</span><span class="o">.</span><span class="n">input_ports</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">CompiledInputPort</span><span class="p">(</span><span class="n">input_port</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">output_port</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_ports</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">assignment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assignments</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
            <span class="n">compiled</span><span class="o">.</span><span class="n">output_ports</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">CompiledOutputPort</span><span class="p">(</span><span class="n">output_port</span><span class="p">,</span> <span class="n">assignment</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">prefix_names</span><span class="p">:</span>
            <span class="n">compiled</span><span class="o">.</span><span class="n">sub_prefixed_symbols</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">compiled</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="psymple.ported_objects.FunctionalPortedObject.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">input_ports</span><span class="o">=</span><span class="p">[],</span> <span class="n">assignments</span><span class="o">=</span><span class="p">[],</span> <span class="n">create_input_ports</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a unique identifier for each VariablePortedObject inside a common
CompositePortedObject.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>input_ports</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>input ports to expose. Elements should be of type InputPort, 
dict or str.</p>
              </div>
            </td>
            <td>
                  <code>[]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>assignments</code></td>
            <td>
                  <code>list[<a class="autorefs autorefs-internal" title="psymple.ported_objects.ParameterAssignment" href="../assignments/#psymple.ported_objects.ParameterAssignment">ParameterAssignment</a> | tuple | dict]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>functional assignments. Elements should be of type
ParameterAssignment, dict or tuple.</p>
              </div>
            </td>
            <td>
                  <code>[]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>create_input_ports</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>automatically expose all function arguments which aren't specified
in the list input_ports as input ports.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>psymple/ported_objects.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">input_ports</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[],</span>
    <span class="n">assignments</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ParameterAssignment</span><span class="o">|</span><span class="nb">tuple</span><span class="o">|</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
    <span class="n">create_input_ports</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Construct a FunctionalPortedObject from a list of assignments specifying functions. </span>

<span class="sd">    Args:</span>
<span class="sd">        name: a unique identifier for each VariablePortedObject inside a common</span>
<span class="sd">            CompositePortedObject.</span>
<span class="sd">        input_ports: input ports to expose. Elements should be of type InputPort, </span>
<span class="sd">            dict or str.</span>
<span class="sd">        assignments: functional assignments. Elements should be of type</span>
<span class="sd">            ParameterAssignment, dict or tuple.</span>
<span class="sd">        create_input_ports: automatically expose all function arguments which aren&#39;t specified</span>
<span class="sd">            in the list input_ports as input ports.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">#TODO: Functional ported objects should take lists of assignments to a list of output port</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">input_ports</span><span class="o">=</span><span class="n">input_ports</span><span class="p">)</span>
    <span class="c1"># A dict of assignments indexed by the variable name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assignments</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_assignments</span><span class="p">(</span><span class="o">*</span><span class="n">assignments</span><span class="p">,</span> <span class="n">create_input_ports</span><span class="o">=</span><span class="n">create_input_ports</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="psymple.ported_objects.FunctionalPortedObject.add_assignments" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_assignments</span><span class="p">(</span><span class="o">*</span><span class="n">assignments</span><span class="p">,</span> <span class="n">create_input_ports</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Add a list of assignments to a FunctionalPortedObject.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>assignments</code></td>
            <td>
                  <code>list[<a class="autorefs autorefs-internal" title="psymple.ported_objects.ParameterAssignment" href="../assignments/#psymple.ported_objects.ParameterAssignment">ParameterAssignment</a> | dict | tuple]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list of functional assignments. Elements should be of type
ParameterAssignment, dict or tuple.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>create_input_ports</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>automatically expose all function arguments which
aren't specified in the list input_ports as input ports.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>psymple/ported_objects.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_assignments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">assignments</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ParameterAssignment</span><span class="o">|</span><span class="nb">dict</span><span class="o">|</span><span class="nb">tuple</span><span class="p">],</span> <span class="n">create_input_ports</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add a list of assignments to a FunctionalPortedObject.</span>

<span class="sd">    Args:</span>
<span class="sd">        assignments: list of functional assignments. Elements should be of type</span>
<span class="sd">            ParameterAssignment, dict or tuple.</span>
<span class="sd">        create_input_ports: automatically expose all function arguments which</span>
<span class="sd">            aren&#39;t specified in the list input_ports as input ports.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">assignment_info</span> <span class="ow">in</span> <span class="n">assignments</span><span class="p">:</span>
        <span class="n">assignment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_assignment_entry</span><span class="p">(</span><span class="n">assignment_info</span><span class="p">,</span> <span class="n">FunctionalAssignment</span><span class="p">)</span>
        <span class="n">parameter_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">assignment</span><span class="o">.</span><span class="n">parameter</span><span class="o">.</span><span class="n">symbol</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">parameter_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">assignments</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Variable &#39;</span><span class="si">{</span><span class="n">parameter_name</span><span class="si">}</span><span class="s2">&#39; in FunctionalPortedObject &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; doubly defined.&quot;</span>
            <span class="p">)</span>
        <span class="n">free_symbols</span> <span class="o">=</span> <span class="n">assignment</span><span class="o">.</span><span class="n">get_free_symbols</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="n">free_symbols</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">symbol</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_ports</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">create_input_ports</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">input_ports</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">InputPort</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Expression contains symbol </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> but there is no &quot;</span>
                        <span class="s2">&quot;corresponding input port.&quot;</span>
                    <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assignments</span><span class="p">[</span><span class="n">parameter_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">assignment</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_ports</span><span class="p">[</span><span class="n">parameter_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">OutputPort</span><span class="p">(</span><span class="n">parameter_name</span><span class="p">)</span>           
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>